<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CSV import Doc</title><link rel="stylesheet" type="text/css" href="https://openenergydashboard.org/assets/css/styles_feeling_responsive.css"> <script src="https://openenergydashboard.org/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'> </noscript><meta name="description" content="Version V0.8.0 The latest version of this page is V1.0.0. Documentation overview Admin documentation Information Overview Site Management Group Map Management Map Viewing Meter Viewing Site Settings User Data Acquisition CSV Import Data Acquisition MAMAC Meter Import Reading Import Site Installation Production Install Output Installation Directions Upgrades User documentation User help Documentation versions for this page V1.0.0 V0.8.0 (current page) V0.7.0 These features are only available to select people who oversee the OED site (called admins) so this information is not usually of interest to a general user. This feature is also available to people logged in as a user with the CSV role. Overview The canonical format for OED to acquire information is the vendor neutral CSV (Comma Separated Values) format. It is used for both importing meter and reading information. This is the same format used for reading export so exported data can also be imported into OED. The mechanism is the same for both meters and readings but the details vary given the information being imported is different. This section has information that is shared by both imports along with links to pages with details on each type of import. Usage Ways to import CSV data OED supports the import of CSV files via a web page and via direct file upload (normally done via a script). The information needed and the CSV file uploaded are the same but the details of two mechanisms vary. Each mechanism is described in the next two sections. CSV file upload via the web page If you click on the &quot;CSV&quot; button in the top, right of the main OED screen you will go to the CSV page shown below. Note that a user must have CSV privileges to see the &quot;CSV&quot; button. This is an OED user with overall &quot;admin&quot; rights or just &quot;csv&quot; rights. See the admin user page for more information on users. There are now two tabs near the top of the page (highlighted in blue boxes): one for &quot;Readings&quot; and one for &quot;Meters&quot; where each imports the a CSV file with the expected import information. The initially selected tab is normally the &quot;Readings&quot; one. This page allows for setting options and selecting the desired CSV file and are described on the upload help page for each type of upload (see later for appropriate links). CSV file upload via direct file upload Direct file upload is accomplished via HTTP POST request that is often done using the curl command via a script. A sample line to upload a meter is: curl https://myuniv.edu:3000/api/csv/meters -X POST -F &#39;email=csvadmin@myuniv.edu&#39; -F &#39;password=something&#39; -F &#39;csvfile=@meterinfo.csv.gz&#39; where the command can be understood as follows: curl: The command to mimic an HTTP request. https://myuniv.edu:3000/api/csv/meters: https://myuniv.edu would be replaced with the URL of where your OED site is located. This specifies where the HTTP request is sent and how it is routed within the OED application (in this case to the api for csv for meters). OED encourages you to use https (assuming you site is set up to accept secure connections) so the transmission of user and password is secure. You can use http: if that is necessary for your site. Note you would replace &quot;meters&quot; with &quot;readings&quot; if you were sending a reading CSV. -X POST: Indicates the type of HTTP request being made. This is required and always the same. -F &#39;email=csvadmin@myuniv.edu&#39;: All values are sent by placing them after &quot;-F&quot;. They are a key/value pair separated by an equal (=) sign. The value on the left of the equal sign is the key that is known as the parameter. The value on the right of the equal sign is the value for this parameter. For this key/value, the email address (&quot;email&quot; parameter) of an admin with CSV rights is being supplied with the value &quot;csvadmin@myuniv.edu&quot;. The next key/value pair is for the &quot;password&quot; (parameter) and &quot;something&quot; (assumed password for the OED user csvadmin@myuniv.edu). These two parameters must always be provided so OED knows that only appropriate people are submitting requests. Note that if the user email is not in the OED system then OED will return the message: &amp;lt;h1&amp;gt;FAILURE&amp;lt;/h1&amp;gt;QueryResultError { code: queryResultErrorCode.noData message: &quot;No data returned from the query.&quot; received: 0 query: &quot;SELECT id, email, password_hash, role FROM users WHERE email=&#39;csvuser@myorg.com&#39;;&quot; } where csvuser@myorg.com would be the email you actually provided. If the user password is incorrect then OED will return the message: &amp;lt;h1&amp;gt;FAILURE&amp;lt;/h1&amp;gt;Error: Invalid credentials -F &#39;csvfile=@meterinfo.csv.gz&#39;: This supplies the name of the CSV file with the information for uploading. The parameter name is &quot;csvfile&quot; and the value is &quot;@meterinfo.csv.gz&quot;. Note the file information must be preceded with an @ sign. In this example the file is in the same directory as where the curl command runs. If there was a path to the file then it would precede the file name using the format for the OS for the computer running the curl command. For example, if it was in the &quot;csv&quot; folder under the directory where the curl was run then on a Linux system you would use &quot;-F &#39;csvfile=@csv/meterinfo.csv.gz&#39;&quot;. Note that in this case the CSV file is gzipped so it has a .csv.gz file extension. Note the csvfile parameter must be the last one given on direct file upload. There are many more parameters that can be used and they are described on the pages for readings and meters upload (see links below). Note that to upload readings you use curl myuniv.edu:3000/api/csv/readings -X POST -F &#39;email=csvadmin@myuniv.edu&#39; -F &#39;password=something&#39; -F &#39;csvfile=@meterinfo.csv.gz&#39; where many more parameters are allowed. The web page upload does certain checks and restricts input of values for the parameters. The curl command uses the values provided. Thus, it is possible to get problematic values farther into the OED upload process when you use curl. This isn&#39;t a bug in OED but noted so you are aware. Returned information Whenever a CSV upload is requested, OED returns information about the request. This information is in HTML format because it can contain a lot of information. You may find it easiest to copy the returned information into a file with the extension &quot;.html&quot; and then open that file in a web browser so it is nicely formatted. In the case of the web page, the returned information is shown as a popup window on the CSV web page. You need to click &quot;OK&quot; to close the window even if there are no issues. This is done to be sure you can easily see and copy anything returned. Some web browsers limit the number of lines you see so there will be something like &quot;...&quot; at the end. In this case you need to look at the log to see them all. In the case of direct file upload, the information is returned to the command that sent the request. This generally means it comes back to the script/command you used. OED also returns a valid HTTP code where it sends code 200 if all data was processed and stored and code 500 if any data was not accepted. If all data was accepted then the returned message will begin with &quot;&amp;lt;h1&amp;gt;SUCCESS&amp;lt;/h1&amp;gt;&quot; and if there was an issue it will begin with &quot;&amp;lt;h1&amp;gt;FAILURE&amp;lt;h1&amp;gt;&quot;. These are generally followed by additional information. Note OED can return a different error code and message under unusual errors but the code is always something different from 200. Getting the process working It may be easiest to test CSV upload via the web page and/or issuing a single direct file upload with limited data outside a script to be sure everything is set up properly. Once any issues are resolved, an automated or script-based process should normally work well. You can create a dummy meter for this process and then set it not to be displayed. Note it is important that any automated system detect the errors OED returns so they are properly dealt with. Otherwise, errors may go unnoticed and cause other issues. Meters and readings specific information Information specific to meters is on the meters import page and information specific to readings is on the readings import page Details None at this time."><meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ"><meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" ><link rel="canonical" href="https://openenergydashboard.org/helpV0_8_0/adminCsvImport/"><meta property="og:title" content="CSV import Doc"><meta property="og:description" content="Version V0.8.0 The latest version of this page is V1.0.0. Documentation overview Admin documentation Information Overview Site Management Group Map Management Map Viewing Meter Viewing Site Settings User Data Acquisition CSV Import Data Acquisition MAMAC Meter Import Reading Import Site Installation Production Install Output Installation Directions Upgrades User documentation User help Documentation versions for this page V1.0.0 V0.8.0 (current page) V0.7.0 These features are only available to select people who oversee the OED site (called admins) so this information is not usually of interest to a general user. This feature is also available to people logged in as a user with the CSV role. Overview The canonical format for OED to acquire information is the vendor neutral CSV (Comma Separated Values) format. It is used for both importing meter and reading information. This is the same format used for reading export so exported data can also be imported into OED. The mechanism is the same for both meters and readings but the details vary given the information being imported is different. This section has information that is shared by both imports along with links to pages with details on each type of import. Usage Ways to import CSV data OED supports the import of CSV files via a web page and via direct file upload (normally done via a script). The information needed and the CSV file uploaded are the same but the details of two mechanisms vary. Each mechanism is described in the next two sections. CSV file upload via the web page If you click on the &quot;CSV&quot; button in the top, right of the main OED screen you will go to the CSV page shown below. Note that a user must have CSV privileges to see the &quot;CSV&quot; button. This is an OED user with overall &quot;admin&quot; rights or just &quot;csv&quot; rights. See the admin user page for more information on users. There are now two tabs near the top of the page (highlighted in blue boxes): one for &quot;Readings&quot; and one for &quot;Meters&quot; where each imports the a CSV file with the expected import information. The initially selected tab is normally the &quot;Readings&quot; one. This page allows for setting options and selecting the desired CSV file and are described on the upload help page for each type of upload (see later for appropriate links). CSV file upload via direct file upload Direct file upload is accomplished via HTTP POST request that is often done using the curl command via a script. A sample line to upload a meter is: curl https://myuniv.edu:3000/api/csv/meters -X POST -F &#39;email=csvadmin@myuniv.edu&#39; -F &#39;password=something&#39; -F &#39;csvfile=@meterinfo.csv.gz&#39; where the command can be understood as follows: curl: The command to mimic an HTTP request. https://myuniv.edu:3000/api/csv/meters: https://myuniv.edu would be replaced with the URL of where your OED site is located. This specifies where the HTTP request is sent and how it is routed within the OED application (in this case to the api for csv for meters). OED encourages you to use https (assuming you site is set up to accept secure connections) so the transmission of user and password is secure. You can use http: if that is necessary for your site. Note you would replace &quot;meters&quot; with &quot;readings&quot; if you were sending a reading CSV. -X POST: Indicates the type of HTTP request being made. This is required and always the same. -F &#39;email=csvadmin@myuniv.edu&#39;: All values are sent by placing them after &quot;-F&quot;. They are a key/value pair separated by an equal (=) sign. The value on the left of the equal sign is the key that is known as the parameter. The value on the right of the equal sign is the value for this parameter. For this key/value, the email address (&quot;email&quot; parameter) of an admin with CSV rights is being supplied with the value &quot;csvadmin@myuniv.edu&quot;. The next key/value pair is for the &quot;password&quot; (parameter) and &quot;something&quot; (assumed password for the OED user csvadmin@myuniv.edu). These two parameters must always be provided so OED knows that only appropriate people are submitting requests. Note that if the user email is not in the OED system then OED will return the message: &amp;lt;h1&amp;gt;FAILURE&amp;lt;/h1&amp;gt;QueryResultError { code: queryResultErrorCode.noData message: &quot;No data returned from the query.&quot; received: 0 query: &quot;SELECT id, email, password_hash, role FROM users WHERE email=&#39;csvuser@myorg.com&#39;;&quot; } where csvuser@myorg.com would be the email you actually provided. If the user password is incorrect then OED will return the message: &amp;lt;h1&amp;gt;FAILURE&amp;lt;/h1&amp;gt;Error: Invalid credentials -F &#39;csvfile=@meterinfo.csv.gz&#39;: This supplies the name of the CSV file with the information for uploading. The parameter name is &quot;csvfile&quot; and the value is &quot;@meterinfo.csv.gz&quot;. Note the file information must be preceded with an @ sign. In this example the file is in the same directory as where the curl command runs. If there was a path to the file then it would precede the file name using the format for the OS for the computer running the curl command. For example, if it was in the &quot;csv&quot; folder under the directory where the curl was run then on a Linux system you would use &quot;-F &#39;csvfile=@csv/meterinfo.csv.gz&#39;&quot;. Note that in this case the CSV file is gzipped so it has a .csv.gz file extension. Note the csvfile parameter must be the last one given on direct file upload. There are many more parameters that can be used and they are described on the pages for readings and meters upload (see links below). Note that to upload readings you use curl myuniv.edu:3000/api/csv/readings -X POST -F &#39;email=csvadmin@myuniv.edu&#39; -F &#39;password=something&#39; -F &#39;csvfile=@meterinfo.csv.gz&#39; where many more parameters are allowed. The web page upload does certain checks and restricts input of values for the parameters. The curl command uses the values provided. Thus, it is possible to get problematic values farther into the OED upload process when you use curl. This isn&#39;t a bug in OED but noted so you are aware. Returned information Whenever a CSV upload is requested, OED returns information about the request. This information is in HTML format because it can contain a lot of information. You may find it easiest to copy the returned information into a file with the extension &quot;.html&quot; and then open that file in a web browser so it is nicely formatted. In the case of the web page, the returned information is shown as a popup window on the CSV web page. You need to click &quot;OK&quot; to close the window even if there are no issues. This is done to be sure you can easily see and copy anything returned. Some web browsers limit the number of lines you see so there will be something like &quot;...&quot; at the end. In this case you need to look at the log to see them all. In the case of direct file upload, the information is returned to the command that sent the request. This generally means it comes back to the script/command you used. OED also returns a valid HTTP code where it sends code 200 if all data was processed and stored and code 500 if any data was not accepted. If all data was accepted then the returned message will begin with &quot;&amp;lt;h1&amp;gt;SUCCESS&amp;lt;/h1&amp;gt;&quot; and if there was an issue it will begin with &quot;&amp;lt;h1&amp;gt;FAILURE&amp;lt;h1&amp;gt;&quot;. These are generally followed by additional information. Note OED can return a different error code and message under unusual errors but the code is always something different from 200. Getting the process working It may be easiest to test CSV upload via the web page and/or issuing a single direct file upload with limited data outside a script to be sure everything is set up properly. Once any issues are resolved, an automated or script-based process should normally work well. You can create a dummy meter for this process and then set it not to be displayed. Note it is important that any automated system detect the errors OED returns so they are properly dealt with. Otherwise, errors may go unnoticed and cause other issues. Meters and readings specific information Information specific to meters is on the meters import page and information specific to readings is on the readings import page Details None at this time."><meta property="og:url" content="https://openenergydashboard.org/helpV0_8_0/adminCsvImport/"><meta property="og:locale" content="en_EN"><meta property="og:type" content="website"><meta property="og:site_name" content="Open Energy Dashboard"><link rel="icon" sizes="32x32" href="https://openenergydashboard.org/assets/img/OEDIcon22x32.png"><link rel="icon" sizes="192x192" href="https://openenergydashboard.org/assets/img/OEDIcon192x274.png"><body id="top-of-page" class="page-fullwidth"><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar data-options="scrolltop: false"><ul class="title-area"><li class="name"><h1 class="hide-for-large-up"><a href="https://openenergydashboard.org/" class="icon-tree"> Open Energy Dashboard</a></h1><li class="toggle-topbar toggle-topbar-click menu-icon"><a><span>Nav</span></a></ul><section class="top-bar-section"><ul class="left"><li><a href="https://openenergydashboard.org/">home</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/features/">features</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/features/">features by type</a><li><a href="https://openenergydashboard.org/useAcademic/">features by academic use</a></ul><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/helpV1_0_0/user/">Documentation</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/helpV1_0_0/user/">oed version 1.0.0</a><li><a href="https://openenergydashboard.org/helpV0_8_0/user/">oed version 0.8.0</a><li><a href="https://openenergydashboard.org/helpV0_7_0/user/">oed version 0.7.0</a><li><a href="https://openenergydashboard.org/helpV0_6_0/user/">oed version 0.6.0</a></ul><li class="divider"><li><a href="https://openenergydashboard.org/use/">Adopting</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/news/">info</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/news/">news</a><li><a href="https://openenergydashboard.org/principles/">project principles</a><li><a href="https://openenergydashboard.org/free/">free &amp; maintained</a><li><a href="https://openenergydashboard.org/mission/">mission</a><li><a href="https://openenergydashboard.org/why/">why exists</a><li><a href="https://openenergydashboard.org/projectInfo/">project information pages &amp; license</a><li><a href="https://openenergydashboard.org/name/">why OED name, logo &amp; some history</a></ul><li class="divider"></ul><ul class="right"><li class="divider"><li><a href="https://openenergydashboard.org/search/">Search</a><li class="divider"><li><a href="https://openenergydashboard.org/contact/">Contact</a><li class="divider"><li><a href="https://openenergydashboard.org/developer/developer/">developer docs</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/involved/">get involved</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/internship/">becoming a developer</a><li><a href="https://openenergydashboard.org/studentExperience/">student experience</a></ul></ul></section></nav></div><div id="masthead-no-image-header"><div class="row"><div class="small-6 small-centered columns"> <a id="logo" title="Open Energy Dashboard – A Free, Open Source Energy/Resource Dashboard"> <img src="https://openenergydashboard.org/assets/img/logoHelp.png" alt="Open Energy Dashboard – A Free, Open Source Energy/Resource Dashboard"> </a></div></div></div><nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs"> <a href="https://openenergydashboard.org/">Start</a> <a href="https://openenergydashboard.org/helpV0_8_0/">helpV0_8_0</a> <a class="current">CSV Import</a></nav><div class="row t15"><div class="medium-12 columns"><article><header><p class="subheadline">OED Documentation<h1>CSV Import</h1></header><div class="row"><p>Version V0.8.0<div class="alert-box info "><p>The latest version of this page is <a href="https://openenergydashboard.org/helpV1_0_0/adminCsvImport/">V1.0.0</a>.</div><div class="medium-4 medium-push-8 columns" markdown="1"><div class="panel radius" markdown="1"><div style="list-style: none;" class="side-nav"><h4><a href='../admin/'>Documentation overview</a></h4><div><h5>Admin documentation</h5><div style="padding-left: 1em;"><h6>Information</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_8_0/admin/">Overview</a></br></div></div><div style="padding-left: 1em;"><h6>Site Management</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_8_0/adminGroupViewing/">Group</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminMap/">Map Management</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminMapViewing/">Map Viewing</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminMeterViewing/">Meter Viewing</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminPreferences/">Site Settings</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminUser/">User</a></br></div></div><div style="padding-left: 1em;"><h6>Data Acquisition</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_8_0/adminCsvImport/">CSV Import</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminDataAcquisition/">Data Acquisition</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminMamac/">MAMAC</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminMetersImport/">Meter Import</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminReadingsImport/">Reading Import</a></br></div></div><div style="padding-left: 1em;"><h6>Site Installation</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_8_0/adminInstallOutput/">Production Install Output</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminInstallation/">Installation Directions</a></br> <a href="https://openenergydashboard.org/helpV0_8_0/adminUpgrading/">Upgrades</a></br></div></div><h5>User documentation</h5><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_8_0/adminCsvImport/../user/">User help</a></br></div><h5>Documentation versions for this page</h5><div style="padding-left: 1em;"> <a href="../../helpV1_0_0/adminCsvImport/">V1.0.0</a></br> V0.8.0 (current page)</br> <a href="../../helpV0_7_0/adminCsvImport/">V0.7.0</a></br></div></div></div></div></div><div class="medium-8 medium-pull-4 columns" markdown="1"><div class="alert-box info "><p>These features are only available to select people who oversee the OED site (called admins) so this information is not usually of interest to a general user.</div><div class="alert-box info "><p>This feature is also available to people logged in as a user with the CSV role.</div><h2 id="overview">Overview</h2><p>The canonical format for OED to acquire information is the vendor neutral CSV (Comma Separated Values) format. It is used for both importing meter and reading information. This is the same format used for <a href="../export/">reading export</a> so exported data can also be imported into OED. The mechanism is the same for both meters and readings but the details vary given the information being imported is different. This section has information that is shared by both imports along with links to pages with details on each type of import.<h2 id="usage">Usage</h2><h3>Ways to import CSV data</h3><p>OED supports the import of CSV files via a web page and via direct file upload (normally done via a script). The information needed and the CSV file uploaded are the same but the details of two mechanisms vary. Each mechanism is described in the next two sections.<h4>CSV file upload via the web page</h4><p>If you click on the "CSV" button in the top, right of the main OED screen you will go to the CSV page shown below. Note that a user must have CSV privileges to see the "CSV" button. This is an OED user with overall "admin" rights or just "csv" rights. See the <a href="../adminUser/">admin user page</a> for more information on users. <img alt="admin CSV page" src="../images/OEDAdminCSV.png"><p>There are now two tabs near the top of the page (highlighted in blue boxes): one for "Readings" and one for "Meters" where each imports the a CSV file with the expected import information. The initially selected tab is normally the "Readings" one. This page allows for setting options and selecting the desired CSV file and are described on the upload help page for each type of upload (see later for appropriate links).<h4>CSV file upload via direct file upload</h4><p>Direct file upload is accomplished via HTTP POST request that is often done using the curl command via a script. A sample line to upload a meter is: <code>curl https://myuniv.edu:3000/api/csv/meters -X POST -F 'email=csvadmin@myuniv.edu' -F 'password=something' -F 'csvfile=@meterinfo.csv.gz'</code><p>where the command can be understood as follows:<ul><li><code>curl</code>: The command to mimic an HTTP request.<li><code>https://myuniv.edu:3000/api/csv/meters</code>: https://myuniv.edu would be replaced with the URL of where your OED site is located. This specifies where the HTTP request is sent and how it is routed within the OED application (in this case to the api for csv for meters). OED encourages you to use https (assuming you site is set up to accept secure connections) so the transmission of user and password is secure. You can use http: if that is necessary for your site. Note you would replace "meters" with "readings" if you were sending a reading CSV.<li><code>-X POST</code>: Indicates the type of HTTP request being made. This is required and always the same.<li><code>-F 'email=csvadmin@myuniv.edu'</code>: All values are sent by placing them after "-F". They are a key/value pair separated by an equal (=) sign. The value on the left of the equal sign is the key that is known as the parameter. The value on the right of the equal sign is the value for this parameter. For this key/value, the email address ("email" parameter) of an admin with CSV rights is being supplied with the value "csvadmin@myuniv.edu". The next key/value pair is for the "password" (parameter) and "something" (assumed password for the OED user csvadmin@myuniv.edu). These two parameters must always be provided so OED knows that only appropriate people are submitting requests. Note that if the user email is not in the OED system then OED will return the message:<br><pre><code>
        &lt;h1&gt;FAILURE&lt;/h1&gt;QueryResultError {
            code: queryResultErrorCode.noData
            message: "No data returned from the query."
            received: 0
            query: "SELECT id, email, password_hash, role FROM users WHERE email='csvuser@myorg.com';"
        }
        </code></pre>where csvuser@myorg.com would be the email you actually provided. If the user password is incorrect then OED will return the message:<br> <code>&lt;h1&gt;FAILURE&lt;/h1&gt;Error: Invalid credentials</code><li><code>-F 'csvfile=@meterinfo.csv.gz'</code>: This supplies the name of the CSV file with the information for uploading. The parameter name is "csvfile" and the value is "@meterinfo.csv.gz". Note the file information must be preceded with an @ sign. In this example the file is in the same directory as where the curl command runs. If there was a path to the file then it would precede the file name using the format for the OS for the computer running the curl command. For example, if it was in the "csv" folder under the directory where the curl was run then on a Linux system you would use "-F 'csvfile=@csv/meterinfo.csv.gz'". Note that in this case the CSV file is gzipped so it has a .csv.gz file extension. Note the csvfile parameter must be the last one given on direct file upload.</ul><p>There are many more parameters that can be used and they are described on the pages for readings and meters upload (see links below). Note that to upload readings you use <code>curl myuniv.edu:3000/api/csv/readings -X POST -F 'email=csvadmin@myuniv.edu' -F 'password=something' -F 'csvfile=@meterinfo.csv.gz'</code> where many more parameters are allowed.<p>The web page upload does certain checks and restricts input of values for the parameters. The curl command uses the values provided. Thus, it is possible to get problematic values farther into the OED upload process when you use curl. This isn't a bug in OED but noted so you are aware.<h3>Returned information</h3><p>Whenever a CSV upload is requested, OED returns information about the request. This information is in HTML format because it can contain a lot of information. You may find it easiest to copy the returned information into a file with the extension ".html" and then open that file in a web browser so it is nicely formatted. In the case of the web page, the returned information is shown as a popup window on the CSV web page. You need to click "OK" to close the window even if there are no issues. This is done to be sure you can easily see and copy anything returned. Some web browsers limit the number of lines you see so there will be something like "..." at the end. In this case you need to look at the log to see them all. In the case of direct file upload, the information is returned to the command that sent the request. This generally means it comes back to the script/command you used. OED also returns a valid HTTP code where it sends code 200 if all data was processed and stored and code 500 if any data was not accepted. If all data was accepted then the returned message will begin with "&lt;h1&gt;SUCCESS&lt;/h1&gt;" and if there was an issue it will begin with "&lt;h1&gt;FAILURE&lt;h1&gt;". These are generally followed by additional information. Note OED can return a different error code and message under unusual errors but the code is always something different from 200.<h3>Getting the process working</h3><p>It may be easiest to test CSV upload via the web page and/or issuing a single direct file upload with limited data outside a script to be sure everything is set up properly. Once any issues are resolved, an automated or script-based process should normally work well. You can create a dummy meter for this process and then set it not to be displayed. Note it is important that any automated system detect the errors OED returns so they are properly dealt with. Otherwise, errors may go unnoticed and cause other issues.<h3>Meters and readings specific information</h3><p>Information specific to meters is on the <a href="../adminMetersImport/">meters import page</a> and information specific to readings is on the <a href="../adminReadingsImport/">readings import page</a><h2 id="details">Details</h2><p>None at this time.</div></div></article></div></div><div id="up-to-top" class="row"><div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"> <noscript><div class="alert-box warning "><p>Some aspect of this site will not work and others will work better if you enable JavaScript.</div></noscript></div><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">About This Site</h5><p class="shadow-black"> The OED dashboard allows organization to acquire, archive, analyze and display energy/resource usage. <a href="https://openenergydashboard.org/features/">More ›</a></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">Services</h5><ul class="no-bullet shadow-black"><li > <a href="https://openenergydashboard.org/" title=""></a><li > <a href="https://openenergydashboard.org/contact/" title="Contact">Contact</a><li > <a href="https://openenergydashboard.org/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a></ul></div><div class="small-6 medium-3 large-3 columns"><ul class="no-bullet shadow-black"></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="small-12 medium-6 columns credits"><p>Created by the OED team using <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on <a href="https://phlow.github.io/feeling-responsive/">Feeling Responsive</a>. This page is part of the Open Energy Dashboard and is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, you can obtain one at <a href="https://www.mozilla.org/en-US/MPL/2.0/" rel="nofollow">https://www.mozilla.org/en-US/MPL/2.0/</a>.</section><section id="subfooter-right" class="small-12 medium-6 columns"><ul class="inline-list social-icons"><li><a href="https://github.com/OpenEnergyDashboard/OED" target="_blank" class="icon-github" title="Code other repos..."></a></ul></section></nav></div></footer><script src="https://openenergydashboard.org/assets/js/javascript.min.js"></script>
