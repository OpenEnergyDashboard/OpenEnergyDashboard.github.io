<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>npm scripts</title><link rel="stylesheet" type="text/css" href="https://openenergydashboard.org/assets/css/styles_feeling_responsive.css"> <script src="https://openenergydashboard.org/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'> </noscript><meta name="description" content="Documentation overview Developer documentation Information Overview Starting Developer First Steps Steps for WSL Contributor License Agreement Creating Pull Requests Test Data Work Selection Codebase Info Learn OED Technology npm scripts Technology Overview Further Details Code Organization Developer Details Documentation Expectations Environment Variables Full Install Output No npm/DB Install Output Test Code Version Release Releasing OED This information is for developers of the OED software so this information is not usually of interest to a general user. The update to the Redux Toolkit (RTK) is not yet reflected in the documentation. As a result, some information may be out of date. OED has many scripts to support its use for development and sometimes in production settings. These can be run by executing npm run [SCRIPT] in the web docker compose service (e.g. docker compose run --rm web npm run [SCRIPT] [args]) or by entering the OED web container as a developer. App actions: Note these are not standard ways for developers to run parts of OED but can be used at times or in scripts. start starts the NodeJS webserver. start:dev starts the NodeJS webserver with Nodemon, so it restarts automatically. webpack:dev runs Webpack in development mode and dynamically rebuilding the client-side application when files change. webpack:build runs Webpack once in production mode. webpack runs Webpack once in development mode. Validation and CI actions: check runs all the below non-test checks (that is, all static checks) check:header ensures that there are no source files without MPL headers. check:typescript ensures that there are no JavaScript source files in the TypeScript portion of the project. check:types runs the TypeScript compiler without emitting code (i.e. just checks for type errors). check:lint runs TSLint against the project to ensure style conformity. test runs the automated test suite on the server. testsome &amp;lt;path to desired test file where can have multiple times&amp;gt; runs the automated test on the provided test file(s). Administration: Note many of these are described in more detail on the installation page (this is for site setup and not for developers but the information may be useful to some developers). createdb creates the database schema in an uninitialized database. It will not update the schema for some parts of OED on major changes. migratedb should upgrade the database after upgrading the software to a new version. addMamacMeters adds meters from a CSV file. updateMamacMeters fetches new data from previously imported Mamac meters. updateEgaugeMeters fetches new data from previously setup eGauge meters. refreshReadingViews aggregates readings data in the database for daily graphing has the latest data. refreshDailyReadingViews same as refreshReadingViews but using newer names. refreshHourlyReadingViews aggregates readings data in the database for hourly graphing has the latest data. refreshAllReadingViews does both the refreshDailyReadingViews and refreshHourlyReadingViews. createUser creates a new user. If given no arguments, it is interactive; you can also pass the username and password as command line arguments. This is not normally used any more since the admin web page allows adding/modifying users except on initial site setup . editUser edits the password of an existing user. This is not normally used any more since the admin web page allows adding/modifying users except or reset a password. sendLogEmail sends an email with the latest errors/warnings to the specified email. developerdb creates DB functions for developers to shift meter data for compare testing. updateCikAndViews causes a running OED to redo the cik in the DB and to update the daily and hourly views due to this change. obvius:showConfigfiles shows the Obvius config files stored in the DB; usually for debugging. obvius:purgeConfigfiles deletes the Obvius config files stored in the DB; usually for debugging and is destructive. Test data Developers interested in how to create the test data and related script should consult the testing page."><meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ"><meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" ><link rel="canonical" href="https://openenergydashboard.org/developer/npm/"><meta property="og:title" content="npm scripts"><meta property="og:description" content="Documentation overview Developer documentation Information Overview Starting Developer First Steps Steps for WSL Contributor License Agreement Creating Pull Requests Test Data Work Selection Codebase Info Learn OED Technology npm scripts Technology Overview Further Details Code Organization Developer Details Documentation Expectations Environment Variables Full Install Output No npm/DB Install Output Test Code Version Release Releasing OED This information is for developers of the OED software so this information is not usually of interest to a general user. The update to the Redux Toolkit (RTK) is not yet reflected in the documentation. As a result, some information may be out of date. OED has many scripts to support its use for development and sometimes in production settings. These can be run by executing npm run [SCRIPT] in the web docker compose service (e.g. docker compose run --rm web npm run [SCRIPT] [args]) or by entering the OED web container as a developer. App actions: Note these are not standard ways for developers to run parts of OED but can be used at times or in scripts. start starts the NodeJS webserver. start:dev starts the NodeJS webserver with Nodemon, so it restarts automatically. webpack:dev runs Webpack in development mode and dynamically rebuilding the client-side application when files change. webpack:build runs Webpack once in production mode. webpack runs Webpack once in development mode. Validation and CI actions: check runs all the below non-test checks (that is, all static checks) check:header ensures that there are no source files without MPL headers. check:typescript ensures that there are no JavaScript source files in the TypeScript portion of the project. check:types runs the TypeScript compiler without emitting code (i.e. just checks for type errors). check:lint runs TSLint against the project to ensure style conformity. test runs the automated test suite on the server. testsome &amp;lt;path to desired test file where can have multiple times&amp;gt; runs the automated test on the provided test file(s). Administration: Note many of these are described in more detail on the installation page (this is for site setup and not for developers but the information may be useful to some developers). createdb creates the database schema in an uninitialized database. It will not update the schema for some parts of OED on major changes. migratedb should upgrade the database after upgrading the software to a new version. addMamacMeters adds meters from a CSV file. updateMamacMeters fetches new data from previously imported Mamac meters. updateEgaugeMeters fetches new data from previously setup eGauge meters. refreshReadingViews aggregates readings data in the database for daily graphing has the latest data. refreshDailyReadingViews same as refreshReadingViews but using newer names. refreshHourlyReadingViews aggregates readings data in the database for hourly graphing has the latest data. refreshAllReadingViews does both the refreshDailyReadingViews and refreshHourlyReadingViews. createUser creates a new user. If given no arguments, it is interactive; you can also pass the username and password as command line arguments. This is not normally used any more since the admin web page allows adding/modifying users except on initial site setup . editUser edits the password of an existing user. This is not normally used any more since the admin web page allows adding/modifying users except or reset a password. sendLogEmail sends an email with the latest errors/warnings to the specified email. developerdb creates DB functions for developers to shift meter data for compare testing. updateCikAndViews causes a running OED to redo the cik in the DB and to update the daily and hourly views due to this change. obvius:showConfigfiles shows the Obvius config files stored in the DB; usually for debugging. obvius:purgeConfigfiles deletes the Obvius config files stored in the DB; usually for debugging and is destructive. Test data Developers interested in how to create the test data and related script should consult the testing page."><meta property="og:url" content="https://openenergydashboard.org/developer/npm/"><meta property="og:locale" content="en_EN"><meta property="og:type" content="website"><meta property="og:site_name" content="Open Energy Dashboard"><link rel="icon" sizes="32x32" href="https://openenergydashboard.org/assets/img/OEDIcon22x32.png"><link rel="icon" sizes="192x192" href="https://openenergydashboard.org/assets/img/OEDIcon192x274.png"><body id="top-of-page" class="page-fullwidth"><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar data-options="scrolltop: false"><ul class="title-area"><li class="name"><h1 class="hide-for-large-up"><a href="https://openenergydashboard.org/" class="icon-tree"> Open Energy Dashboard</a></h1><li class="toggle-topbar toggle-topbar-click menu-icon"><a><span>Nav</span></a></ul><section class="top-bar-section"><ul class="left"><li><a href="https://openenergydashboard.org/">home</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/features/">features</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/features/">features by type</a><li><a href="https://openenergydashboard.org/useAcademic/">features by academic use</a></ul><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/helpV1_0_0/user/">Documentation</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/helpV1_0_0/user/">oed version 1.0.0</a><li><a href="https://openenergydashboard.org/helpV0_8_0/user/">oed version 0.8.0</a><li><a href="https://openenergydashboard.org/helpV0_7_0/user/">oed version 0.7.0</a><li><a href="https://openenergydashboard.org/helpV0_6_0/user/">oed version 0.6.0</a></ul><li class="divider"><li><a href="https://openenergydashboard.org/use/">Adopting</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/news/">info</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/news/">news</a><li><a href="https://openenergydashboard.org/principles/">project principles</a><li><a href="https://openenergydashboard.org/free/">free &amp; maintained</a><li><a href="https://openenergydashboard.org/mission/">mission</a><li><a href="https://openenergydashboard.org/why/">why exists</a><li><a href="https://openenergydashboard.org/projectInfo/">project information pages &amp; license</a><li><a href="https://openenergydashboard.org/name/">why OED name, logo &amp; some history</a></ul><li class="divider"></ul><ul class="right"><li class="divider"><li><a href="https://openenergydashboard.org/search/">Search</a><li class="divider"><li><a href="https://openenergydashboard.org/contact/">Contact</a><li class="divider"><li><a href="https://openenergydashboard.org/developer/developer/">developer docs</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/involved/">get involved</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/internship/">becoming a developer</a><li><a href="https://openenergydashboard.org/studentExperience/">student experience</a></ul></ul></section></nav></div><div id="masthead-no-image-header"><div class="row"><div class="small-6 small-centered columns"> <a id="logo" title="Open Energy Dashboard – A Free, Open Source Energy/Resource Dashboard"> <img src="https://openenergydashboard.org/assets/img/logoDeveloper.png" alt="Open Energy Dashboard – A Free, Open Source Energy/Resource Dashboard"> </a></div></div></div><nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs"> <a href="https://openenergydashboard.org/">Start</a> <a href="https://openenergydashboard.org/developer/">developer</a> <a class="current">npm scripts</a></nav><div class="row t15"><div class="medium-12 columns"><article><header><p class="subheadline">OED Developer Documentation<h1>npm scripts</h1></header><div class="row"><div class="medium-4 medium-push-8 columns" markdown="1"><div class="panel radius" markdown="1"><div style="list-style: none;" class="side-nav"><h4><a href='../developer/'>Documentation overview</a></h4><div><h5>Developer documentation</h5><div style="padding-left: 1em;"><h6>Information</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/developer/developer/">Overview</a></br></div></div><div style="padding-left: 1em;"><h6>Starting</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/developer/gettingStarted/">Developer First Steps</a></br> <a href="https://openenergydashboard.org/developer/wslSteps/">Steps for WSL</a></br> <a href="https://openenergydashboard.org/developer/cla/">Contributor License Agreement</a></br> <a href="https://openenergydashboard.org/developer/pr/">Creating Pull Requests</a></br> <a href="https://openenergydashboard.org/developer/testData/">Test Data</a></br> <a href="https://openenergydashboard.org/developer/work/">Work Selection</a></br></div></div><div style="padding-left: 1em;"><h6>Codebase Info</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/developer/learningTechnologies/">Learn OED Technology</a></br> <a href="https://openenergydashboard.org/developer/npm/">npm scripts</a></br> <a href="https://openenergydashboard.org/developer/technologies/">Technology Overview</a></br></div></div><div style="padding-left: 1em;"><h6>Further Details</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/developer/codeOrganization/">Code Organization</a></br> <a href="https://openenergydashboard.org/developer/devDetails/">Developer Details</a></br> <a href="https://openenergydashboard.org/developer/codeGuidelines/">Documentation Expectations</a></br> <a href="https://openenergydashboard.org/developer/environment/">Environment Variables</a></br> <a href="https://openenergydashboard.org/developer/fullInstallOutput/">Full Install Output</a></br> <a href="https://openenergydashboard.org/developer/noNPMInstallOutput/">No npm/DB Install Output</a></br> <a href="https://openenergydashboard.org/developer/testing/">Test Code</a></br></div></div><div style="padding-left: 1em;"><h6>Version Release</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/developer/release/">Releasing OED</a></br></div></div></div></div></div></div><div class="medium-8 medium-pull-4 columns" markdown="1"><div class="alert-box info "><p>This information is for developers of the OED software so this information is not usually of interest to a general user.</div><div class="alert-box warning "><p>The update to the Redux Toolkit (RTK) is not yet reflected in the documentation. As a result, some information may be out of date.</div><p>OED has many scripts to support its use for development and sometimes in production settings. These can be run by executing <code>npm run [SCRIPT]</code> in the <code>web</code> docker compose service (e.g. <code>docker compose run --rm web npm run [SCRIPT] [args]</code>) or by entering the OED web container as a developer.<h2>App actions:</h2><p>Note these are not standard ways for developers to run parts of OED but can be used at times or in scripts.<ul><li><code>start</code> starts the NodeJS webserver.<li><code>start:dev</code> starts the NodeJS webserver with Nodemon, so it restarts automatically.<li><code>webpack:dev</code> runs Webpack in development mode and dynamically rebuilding the client-side application when files change.<li><code>webpack:build</code> runs Webpack once in production mode.<li><code>webpack</code> runs Webpack once in development mode.</ul><h2>Validation and CI actions:</h2><ul><li><code>check</code> runs all the below non-test checks (that is, all static checks)<li><code>check:header</code> ensures that there are no source files without MPL headers.<li><code>check:typescript</code> ensures that there are no JavaScript source files in the TypeScript portion of the project.<li><code>check:types</code> runs the TypeScript compiler without emitting code (i.e. just checks for type errors).<li><code>check:lint</code> runs TSLint against the project to ensure style conformity.<li><code>test</code> runs the automated test suite on the server.<li><code>testsome &lt;path to desired test file where can have multiple times&gt;</code> runs the automated test on the provided test file(s).</ul><h2>Administration:</h2><p>Note many of these are described in more detail on the <a href="https://openenergydashboard.org/helpV1_0_0/adminInstallation/">installation page</a> (this is for site setup and not for developers but the information may be useful to some developers).<ul><li><code>createdb</code> creates the database schema in an uninitialized database. It will not update the schema for some parts of OED on major changes.<li><code>migratedb</code> should upgrade the database after upgrading the software to a new version.<li><code>addMamacMeters</code> adds meters from a CSV file.<li><code>updateMamacMeters</code> fetches new data from previously imported Mamac meters.<li><code>updateEgaugeMeters</code> fetches new data from previously setup eGauge meters.<li><code>refreshReadingViews</code> aggregates readings data in the database for daily graphing has the latest data.<li><code>refreshDailyReadingViews</code> same as refreshReadingViews but using newer names.<li><code>refreshHourlyReadingViews</code> aggregates readings data in the database for hourly graphing has the latest data.<li><code>refreshAllReadingViews</code> does both the refreshDailyReadingViews and refreshHourlyReadingViews.<li><code>createUser</code> creates a new user. If given no arguments, it is interactive; you can also pass the username and password as command line arguments. This is not normally used any more since the admin web page allows adding/modifying users except on initial site setup .<li><code>editUser</code> edits the password of an existing user. This is not normally used any more since the admin web page allows adding/modifying users except or reset a password.<li><code>sendLogEmail</code> sends an email with the latest errors/warnings to the specified email.<li><code>developerdb</code> creates DB functions for developers to shift meter data for compare testing.<li><code>updateCikAndViews</code> causes a running OED to redo the cik in the DB and to update the daily and hourly views due to this change.<li><code>obvius:showConfigfiles</code> shows the Obvius config files stored in the DB; usually for debugging.<li><code>obvius:purgeConfigfiles</code> deletes the Obvius config files stored in the DB; usually for debugging and is destructive.</ul><h2>Test data</h2><p>Developers interested in how to create the test data and related script should consult the <a href="../testData/">testing page</a>.</div></div></article></div></div><div id="up-to-top" class="row"><div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"> <noscript><div class="alert-box warning "><p>Some aspect of this site will not work and others will work better if you enable JavaScript.</div></noscript></div><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">About This Site</h5><p class="shadow-black"> The OED dashboard allows organization to acquire, archive, analyze and display energy/resource usage. <a href="https://openenergydashboard.org/features/">More ›</a></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">Services</h5><ul class="no-bullet shadow-black"><li > <a href="https://openenergydashboard.org/" title=""></a><li > <a href="https://openenergydashboard.org/contact/" title="Contact">Contact</a><li > <a href="https://openenergydashboard.org/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a></ul></div><div class="small-6 medium-3 large-3 columns"><ul class="no-bullet shadow-black"></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="small-12 medium-6 columns credits"><p>Created by the OED team using <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on <a href="https://phlow.github.io/feeling-responsive/">Feeling Responsive</a>. This page is part of the Open Energy Dashboard and is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, you can obtain one at <a href="https://www.mozilla.org/en-US/MPL/2.0/" rel="nofollow">https://www.mozilla.org/en-US/MPL/2.0/</a>.</section><section id="subfooter-right" class="small-12 medium-6 columns"><ul class="inline-list social-icons"><li><a href="https://github.com/OpenEnergyDashboard/OED" target="_blank" class="icon-github" title="Code other repos..."></a></ul></section></nav></div></footer><script src="https://openenergydashboard.org/assets/js/javascript.min.js"></script>
