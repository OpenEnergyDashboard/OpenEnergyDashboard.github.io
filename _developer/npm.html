---
layout: page-fullwidth
title: npm scripts
meta_title: "npm scripts"
subheadline: "OED Developer Documentation"
breadcrumb: true
help: true
helpType : Developer
helpCategory : "Codebase Info"
helpDescription : "Information on npm commands that are available for a wide array of actions."
---
<div class="row">
	{% include help-sidebar %}
	<div class="medium-8 medium-pull-4 columns" markdown="1">
		{% include developerInfo.html %}

		<p>OED has many scripts to support its use for development and sometimes in production settings. These can
			be run by
			executing <code>npm run [SCRIPT]</code> in the <code>web</code> docker compose service (e.g.
			<code>docker compose run --rm web npm run [SCRIPT] [args]</code>) or by entering the OED web container
			as a
			developer.
		</p>

		<h2>App actions:</h2>
		<p>Note these are not standard ways for developers to run parts of OED but can be used at times or in
			scripts.</p>
		<ul>
			<li><code>start</code> starts the NodeJS webserver.</li>
			<li><code>start:dev</code> starts the NodeJS webserver with Nodemon, so it restarts automatically.</li>
			<li><code>webpack:dev</code> runs Webpack in development mode and dynamically rebuilding the client-side
				application when files change.</li>
			<li><code>webpack:build</code> runs Webpack once in production mode.</li>
			<li><code>webpack</code> runs Webpack once in development mode.</li>
		</ul>

		<h2>Validation and CI actions:</h2>
		<ul>
			<li><code>check</code> runs all the below non-test checks (that is, all static checks)</li>
			<li><code>check:header</code> ensures that there are no source files without MPL headers.</li>
			<li><code>check:typescript</code> ensures that there are no JavaScript source files in the TypeScript
				portion of
				the project.</li>
			<li><code>check:types</code> runs the TypeScript compiler without emitting code (i.e. just checks for
				type
				errors).</li>
			<li><code>check:lint</code> runs TSLint against the project to ensure style conformity.</li>
			<li><code>test</code> runs the automated test suite on the server.</li>
			<li><code>testsome &lt;path to desired test file where can have multiple times&gt;</code> runs the
				automated
				test on the provided test file(s).</li>
		</ul>
		<h2>Administration:</h2>
		<p>Note many of these are described in more detail on the <a
				href="{{site.url}}/{{site.helpCurrent}}/adminInstallation/">installation page</a> (this is for site
				setup and not for developers but the information may be useful to some developers).</p>
		<ul>
			<li><code>createdb</code> creates the database schema in an uninitialized database. It will not update
				the
				schema for some parts of OED on major changes.</li>
			<li><code>migratedb</code> should upgrade the database after upgrading the software to a new version.
			</li>
			<li><code>addMamacMeters</code> adds meters from a CSV file.</li>
			<li><code>updateMamacMeters</code> fetches new data from previously imported Mamac meters.</li>
			<li><code>updateEgaugeMeters</code> fetches new data from previously setup eGauge meters.</li>
			<li><code>refreshReadingViews</code> aggregates readings data in the database for daily graphing has the
				latest
				data.</li>
			<li><code>refreshDailyReadingViews</code> same as refreshReadingViews but using newer names.</li>
			<li><code>refreshHourlyReadingViews</code> aggregates readings data in the database for hourly graphing
				has the
				latest data.</li>
			<li><code>refreshAllReadingViews</code> does both the refreshDailyReadingViews and
				refreshHourlyReadingViews.
			</li>
			<li><code>createUser</code> creates a new user. If given no arguments, it is interactive; you can also
				pass the
				username and password as command line arguments. This is not normally used any more since the admin
				web page
				allows adding/modifying users except on initial site setup .</li>
			<li><code>editUser</code> edits the password of an existing user. This is not normally used any more
				since the
				admin web page allows adding/modifying users except or reset a password.</li>
			<li><code>sendLogEmail</code> sends an email with the latest errors/warnings to the specified email.
			</li>
			<li><code>developerdb</code> creates DB functions for developers to shift meter data for compare
				testing.</li>
			<li><code>updateCikAndViews</code> causes a running OED to redo the cik in the DB and to update the
				daily and
				hourly views due to this change.</li>
			<li><code>obvius:showConfigfiles</code> shows the Obvius config files stored in the DB; usually for
				debugging.
			</li>
			<li><code>obvius:purgeConfigfiles</code> deletes the Obvius config files stored in the DB; usually for
				debugging
				and is destructive.</li>
		</ul>

		<h2>Test data</h2>
		<p>Developers interested in how to create the test data and related script should consult the <a
				href="../testData/">testing page</a>.</p>
	</div>
</div>
