<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Production Install Output Doc</title><link rel="stylesheet" type="text/css" href="https://openenergydashboard.org/assets/css/styles_feeling_responsive.css"> <script src="https://openenergydashboard.org/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'> </noscript><meta name="description" content="Version V0.7.0 The latest version of this page is V1.0.0. Documentation overview Admin documentation Information Overview Site Management Group Map Management Map Viewing Meter Viewing Site Settings User Data Acquisition CSV Import Data Acquisition MAMAC Meter Import Reading Import Site Installation Production Install Output Installation Directions Upgrades User documentation User help Documentation versions for this page V1.0.0 V0.8.0 V0.7.0 (current page) These features are only available to select people who oversee the OED site (called admins) so this information is not usually of interest to a general user. When you install OED for production you will get output similar to what is below (assuming this is the first time you are running docker compose up). Please note: This output was created on 13 Oct 2021 on RHEL 7 system using OED v0.6.0. The exact output will vary with machine type and changes to OED. There are often colors in the output but that is not shown. Items with // at the start were added after the fact to give information at the point it will occur in the oupt. The warning: WARNING: could not open statistics file &quot;pg_stat_tmp/global.stat&quot;: Operation not permitted may or may not show up. It also shows up at other times. The complete answer is not known but it appears to be a transient error in PostgreSQL writing log information. It has never caused any problems. On rarer occasions it involves another PostgreSQL file. # docker compose up Creating network &quot;oed_default&quot; with the default driver Building database Step 1/2 : FROM postgres:10.13 ---&gt; 145b344769a8 Step 2/2 : COPY *.sql /docker-entrypoint-initdb.d/ ---&gt; Using cache ---&gt; dd33bbc67fa5 Successfully built dd33bbc67fa5 Successfully tagged oed_database:latest WARNING: Image for service database was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`. Building web Step 1/4 : FROM node:latest ---&gt; e1b0cde43c0e Step 2/4 : RUN mkdir -p &quot;/usr/src/app&quot; ---&gt; Using cache ---&gt; 2161380cdac9 Step 3/4 : WORKDIR &quot;/usr/src/app&quot; ---&gt; Using cache ---&gt; aabdff5c5dc5 Step 4/4 : VOLUME &quot;/usr/src/app&quot; ---&gt; Using cache ---&gt; 901e97beb13a Successfully built 901e97beb13a Successfully tagged oed_web:latest WARNING: Image for service web was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`. Creating oed_database_1 ... Creating oed_database_1 ... done Creating oed_web_1 ... Creating oed_web_1 ... done Attaching to oed_database_1, oed_web_1 database_1 | The files belonging to this database system will be owned by user &quot;postgres&quot;. database_1 | This user must also own the server process. database_1 | database_1 | The database cluster will be initialized with locale &quot;en_US.utf8&quot;. database_1 | The default database encoding has accordingly been set to &quot;UTF8&quot;. database_1 | The default text search configuration will be set to &quot;english&quot;. database_1 | database_1 | Data page checksums are disabled. database_1 | database_1 | fixing permissions on existing directory /var/lib/postgresql/data/pgdata ... ok database_1 | creating subdirectories ... ok database_1 | selecting default max_connections ... 100 database_1 | selecting default shared_buffers ... 128MB database_1 | selecting default timezone ... Etc/UTC database_1 | selecting dynamic shared memory implementation ... posix database_1 | creating configuration files ... ok database_1 | running bootstrap script ... ok web_1 | NPM install... database_1 | performing post-bootstrap initialization ... ok database_1 | syncing data to disk ... ok database_1 | database_1 | Success. You can now start the database server using: database_1 | database_1 | pg_ctl -D /var/lib/postgresql/data/pgdata -l logfile start database_1 | database_1 | database_1 | WARNING: enabling &quot;trust&quot; authentication for local connections database_1 | You can change this by editing pg_hba.conf or using the option -A, or database_1 | --auth-local and --auth-host, the next time you run initdb. database_1 | waiting for server to start....2021-10-13 20:55:04.490 UTC [45] LOG: listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot; database_1 | 2021-10-13 20:55:04.571 UTC [46] LOG: database system was shut down at 2021-10-13 20:55:04 UTC database_1 | 2021-10-13 20:55:04.589 UTC [45] LOG: database system is ready to accept connections database_1 | done database_1 | server started database_1 | database_1 | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql database_1 | CREATE ROLE database_1 | DROP DATABASE database_1 | psql:/docker-entrypoint-initdb.d/init.sql:6: NOTICE: database &quot;oed&quot; does not exist, skipping database_1 | CREATE DATABASE database_1 | DROP DATABASE database_1 | psql:/docker-entrypoint-initdb.d/init.sql:8: NOTICE: database &quot;oed_testing&quot; does not exist, skipping database_1 | CREATE DATABASE database_1 | ALTER ROLE database_1 | database_1 | database_1 | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/nuke.sql database_1 | DROP DATABASE database_1 | DROP DATABASE web_1 | npm WARN old lockfile web_1 | npm WARN old lockfile The package-lock.json file was created with an old version of npm, web_1 | npm WARN old lockfile so supplemental metadata must be fetched from the registry. web_1 | npm WARN old lockfile web_1 | npm WARN old lockfile This is a one-time fix-up, please be patient... web_1 | npm WARN old lockfile database_1 | CREATE DATABASE database_1 | CREATE DATABASE database_1 | database_1 | database_1 | waiting for server to shut down....2021-10-13 20:55:06.648 UTC [45] LOG: received fast shutdown request database_1 | 2021-10-13 20:55:06.650 UTC [45] LOG: aborting any active transactions database_1 | 2021-10-13 20:55:06.664 UTC [45] LOG: worker process: logical replication launcher (PID 52) exited with exit code 1 database_1 | 2021-10-13 20:55:06.664 UTC [47] LOG: shutting down database_1 | 2021-10-13 20:55:06.681 UTC [45] LOG: database system is shut down database_1 | done database_1 | server stopped database_1 | database_1 | PostgreSQL init process complete; ready for start up. database_1 | database_1 | 2021-10-13 20:55:06.785 UTC [1] LOG: listening on IPv4 address &quot;0.0.0.0&quot;, port 5432 database_1 | 2021-10-13 20:55:06.785 UTC [1] LOG: listening on IPv6 address &quot;::&quot;, port 5432 database_1 | 2021-10-13 20:55:06.790 UTC [1] LOG: listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot; database_1 | 2021-10-13 20:55:06.826 UTC [72] LOG: database system was shut down at 2021-10-13 20:55:06 UTC database_1 | 2021-10-13 20:55:06.836 UTC [1] LOG: database system is ready to accept connections // This is the point where it may take a while until you get output. web_1 | npm WARN // .... output removed since the warnings are for the current packages of OED. You may have none to a number depending on OED version on NPM status web_1 | web_1 | added 1651 packages, and audited 1652 packages in 5m web_1 | web_1 | 26 packages are looking for funding web_1 | run `npm fund` for details web_1 | web_1 | XX vulnerabilities (XX low, XX moderate, XX high, X critical) // XX will be a number that depends on OED/NPM as noted above web_1 | web_1 | To address issues that do not require attention, run: web_1 | npm audit fix web_1 | web_1 | To address all issues (including breaking changes), run: web_1 | npm audit fix --force web_1 | web_1 | Run `npm audit` for details. web_1 | npm notice web_1 | npm notice New major version of npm available! 7.24.0 -&gt; 8.0.0 web_1 | npm notice Changelog: web_1 | npm notice Run `npm install -g npm@8.0.0` to update! web_1 | npm notice web_1 | NPM install finished. web_1 | Attempting to create database... web_1 | web_1 | -----start of npm run createdb output----- web_1 | web_1 | &gt; Open-Energy-Dashboard@0.6.0 createdb web_1 | &gt; node ./src/server/services/createDB.js web_1 | web_1 | -----end of npm run createdb output----- web_1 | web_1 | database creation had no errors so assume schema creation worked. web_1 | web_1 | &gt; Open-Energy-Dashboard@0.6.0 webpack:build web_1 | &gt; cross-env NODE_ENV=production webpack -p web_1 | web_1 | web_1 | [at-loader] Using typescript@3.5.3 from typescript and &quot;tsconfig.json&quot; from /usr/src/app/tsconfig.json. web_1 | web_1 | web_1 | [at-loader] Checking started in a separate process... web_1 | web_1 | [at-loader] Ok, 12.425 sec. web_1 | Hash: e4db21089452b8852084 web_1 | Version: webpack 4.30.0 web_1 | Time: 443957ms web_1 | Built at: 10/13/2021 9:07:28 PM web_1 | Asset Size Chunks Chunk Names web_1 | bundle.js 4.38 MiB 0 [emitted] [big] main web_1 | bundle.js.map 15.4 MiB 0 [emitted] main web_1 | Entrypoint main [big] = bundle.js bundle.js.map web_1 | [17] ./node_modules/react-redux/es/index.js + 14 modules 37.4 KiB {0} [built] web_1 | | 15 modules web_1 | [119] ./src/client/app/actions/graph.ts 8.26 KiB {0} [built] web_1 | [195] ./node_modules/redux/es/index.js + 6 modules 20.6 KiB {0} [built] web_1 | | 7 modules web_1 | [196] ./src/client/app/index.tsx 1.27 KiB {0} [built] web_1 | [819] ./src/client/app/containers/RouteContainer.ts 906 bytes {0} [built] web_1 | [1765] ./src/client/app/reducers/index.ts 1.06 KiB {0} [built] web_1 | [1766] ./src/client/app/reducers/meters.ts 2.52 KiB {0} [built] web_1 | [1767] ./src/client/app/reducers/lineReadings.ts 4.62 KiB {0} [built] web_1 | [1768] ./src/client/app/reducers/barReadings.ts 5.44 KiB {0} [built] web_1 | [1769] ./src/client/app/reducers/compareReadings.ts 5.53 KiB {0} [built] web_1 | [1770] ./src/client/app/reducers/graph.ts 3.43 KiB {0} [built] web_1 | [1771] ./src/client/app/reducers/groups.ts 8.16 KiB {0} [built] web_1 | [1772] ./src/client/app/reducers/maps.ts 8.04 KiB {0} [built] web_1 | [1773] ./src/client/app/reducers/notifications.ts 1.21 KiB {0} [built] web_1 | [1775] ./src/client/app/styles/index.css 1.03 KiB {0} [built] web_1 | + 1808 hidden modules web_1 | OED install finished web_1 | Starting OED in production mode web_1 | web_1 | &gt; Open-Energy-Dashboard@0.6.0 start web_1 | &gt; node ./src/bin/www web_1 | web_1 | [INFO@2021-10-13T21:07:32.081Z] Listening on port 3000 web_1 |"><meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ"><meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" ><link rel="canonical" href="https://openenergydashboard.org/helpV0_7_0/adminInstallOutput/"><meta property="og:title" content="Production Install Output Doc"><meta property="og:description" content="Version V0.7.0 The latest version of this page is V1.0.0. Documentation overview Admin documentation Information Overview Site Management Group Map Management Map Viewing Meter Viewing Site Settings User Data Acquisition CSV Import Data Acquisition MAMAC Meter Import Reading Import Site Installation Production Install Output Installation Directions Upgrades User documentation User help Documentation versions for this page V1.0.0 V0.8.0 V0.7.0 (current page) These features are only available to select people who oversee the OED site (called admins) so this information is not usually of interest to a general user. When you install OED for production you will get output similar to what is below (assuming this is the first time you are running docker compose up). Please note: This output was created on 13 Oct 2021 on RHEL 7 system using OED v0.6.0. The exact output will vary with machine type and changes to OED. There are often colors in the output but that is not shown. Items with // at the start were added after the fact to give information at the point it will occur in the oupt. The warning: WARNING: could not open statistics file &quot;pg_stat_tmp/global.stat&quot;: Operation not permitted may or may not show up. It also shows up at other times. The complete answer is not known but it appears to be a transient error in PostgreSQL writing log information. It has never caused any problems. On rarer occasions it involves another PostgreSQL file. # docker compose up Creating network &quot;oed_default&quot; with the default driver Building database Step 1/2 : FROM postgres:10.13 ---&gt; 145b344769a8 Step 2/2 : COPY *.sql /docker-entrypoint-initdb.d/ ---&gt; Using cache ---&gt; dd33bbc67fa5 Successfully built dd33bbc67fa5 Successfully tagged oed_database:latest WARNING: Image for service database was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`. Building web Step 1/4 : FROM node:latest ---&gt; e1b0cde43c0e Step 2/4 : RUN mkdir -p &quot;/usr/src/app&quot; ---&gt; Using cache ---&gt; 2161380cdac9 Step 3/4 : WORKDIR &quot;/usr/src/app&quot; ---&gt; Using cache ---&gt; aabdff5c5dc5 Step 4/4 : VOLUME &quot;/usr/src/app&quot; ---&gt; Using cache ---&gt; 901e97beb13a Successfully built 901e97beb13a Successfully tagged oed_web:latest WARNING: Image for service web was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`. Creating oed_database_1 ... Creating oed_database_1 ... done Creating oed_web_1 ... Creating oed_web_1 ... done Attaching to oed_database_1, oed_web_1 database_1 | The files belonging to this database system will be owned by user &quot;postgres&quot;. database_1 | This user must also own the server process. database_1 | database_1 | The database cluster will be initialized with locale &quot;en_US.utf8&quot;. database_1 | The default database encoding has accordingly been set to &quot;UTF8&quot;. database_1 | The default text search configuration will be set to &quot;english&quot;. database_1 | database_1 | Data page checksums are disabled. database_1 | database_1 | fixing permissions on existing directory /var/lib/postgresql/data/pgdata ... ok database_1 | creating subdirectories ... ok database_1 | selecting default max_connections ... 100 database_1 | selecting default shared_buffers ... 128MB database_1 | selecting default timezone ... Etc/UTC database_1 | selecting dynamic shared memory implementation ... posix database_1 | creating configuration files ... ok database_1 | running bootstrap script ... ok web_1 | NPM install... database_1 | performing post-bootstrap initialization ... ok database_1 | syncing data to disk ... ok database_1 | database_1 | Success. You can now start the database server using: database_1 | database_1 | pg_ctl -D /var/lib/postgresql/data/pgdata -l logfile start database_1 | database_1 | database_1 | WARNING: enabling &quot;trust&quot; authentication for local connections database_1 | You can change this by editing pg_hba.conf or using the option -A, or database_1 | --auth-local and --auth-host, the next time you run initdb. database_1 | waiting for server to start....2021-10-13 20:55:04.490 UTC [45] LOG: listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot; database_1 | 2021-10-13 20:55:04.571 UTC [46] LOG: database system was shut down at 2021-10-13 20:55:04 UTC database_1 | 2021-10-13 20:55:04.589 UTC [45] LOG: database system is ready to accept connections database_1 | done database_1 | server started database_1 | database_1 | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql database_1 | CREATE ROLE database_1 | DROP DATABASE database_1 | psql:/docker-entrypoint-initdb.d/init.sql:6: NOTICE: database &quot;oed&quot; does not exist, skipping database_1 | CREATE DATABASE database_1 | DROP DATABASE database_1 | psql:/docker-entrypoint-initdb.d/init.sql:8: NOTICE: database &quot;oed_testing&quot; does not exist, skipping database_1 | CREATE DATABASE database_1 | ALTER ROLE database_1 | database_1 | database_1 | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/nuke.sql database_1 | DROP DATABASE database_1 | DROP DATABASE web_1 | npm WARN old lockfile web_1 | npm WARN old lockfile The package-lock.json file was created with an old version of npm, web_1 | npm WARN old lockfile so supplemental metadata must be fetched from the registry. web_1 | npm WARN old lockfile web_1 | npm WARN old lockfile This is a one-time fix-up, please be patient... web_1 | npm WARN old lockfile database_1 | CREATE DATABASE database_1 | CREATE DATABASE database_1 | database_1 | database_1 | waiting for server to shut down....2021-10-13 20:55:06.648 UTC [45] LOG: received fast shutdown request database_1 | 2021-10-13 20:55:06.650 UTC [45] LOG: aborting any active transactions database_1 | 2021-10-13 20:55:06.664 UTC [45] LOG: worker process: logical replication launcher (PID 52) exited with exit code 1 database_1 | 2021-10-13 20:55:06.664 UTC [47] LOG: shutting down database_1 | 2021-10-13 20:55:06.681 UTC [45] LOG: database system is shut down database_1 | done database_1 | server stopped database_1 | database_1 | PostgreSQL init process complete; ready for start up. database_1 | database_1 | 2021-10-13 20:55:06.785 UTC [1] LOG: listening on IPv4 address &quot;0.0.0.0&quot;, port 5432 database_1 | 2021-10-13 20:55:06.785 UTC [1] LOG: listening on IPv6 address &quot;::&quot;, port 5432 database_1 | 2021-10-13 20:55:06.790 UTC [1] LOG: listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot; database_1 | 2021-10-13 20:55:06.826 UTC [72] LOG: database system was shut down at 2021-10-13 20:55:06 UTC database_1 | 2021-10-13 20:55:06.836 UTC [1] LOG: database system is ready to accept connections // This is the point where it may take a while until you get output. web_1 | npm WARN // .... output removed since the warnings are for the current packages of OED. You may have none to a number depending on OED version on NPM status web_1 | web_1 | added 1651 packages, and audited 1652 packages in 5m web_1 | web_1 | 26 packages are looking for funding web_1 | run `npm fund` for details web_1 | web_1 | XX vulnerabilities (XX low, XX moderate, XX high, X critical) // XX will be a number that depends on OED/NPM as noted above web_1 | web_1 | To address issues that do not require attention, run: web_1 | npm audit fix web_1 | web_1 | To address all issues (including breaking changes), run: web_1 | npm audit fix --force web_1 | web_1 | Run `npm audit` for details. web_1 | npm notice web_1 | npm notice New major version of npm available! 7.24.0 -&gt; 8.0.0 web_1 | npm notice Changelog: web_1 | npm notice Run `npm install -g npm@8.0.0` to update! web_1 | npm notice web_1 | NPM install finished. web_1 | Attempting to create database... web_1 | web_1 | -----start of npm run createdb output----- web_1 | web_1 | &gt; Open-Energy-Dashboard@0.6.0 createdb web_1 | &gt; node ./src/server/services/createDB.js web_1 | web_1 | -----end of npm run createdb output----- web_1 | web_1 | database creation had no errors so assume schema creation worked. web_1 | web_1 | &gt; Open-Energy-Dashboard@0.6.0 webpack:build web_1 | &gt; cross-env NODE_ENV=production webpack -p web_1 | web_1 | web_1 | [at-loader] Using typescript@3.5.3 from typescript and &quot;tsconfig.json&quot; from /usr/src/app/tsconfig.json. web_1 | web_1 | web_1 | [at-loader] Checking started in a separate process... web_1 | web_1 | [at-loader] Ok, 12.425 sec. web_1 | Hash: e4db21089452b8852084 web_1 | Version: webpack 4.30.0 web_1 | Time: 443957ms web_1 | Built at: 10/13/2021 9:07:28 PM web_1 | Asset Size Chunks Chunk Names web_1 | bundle.js 4.38 MiB 0 [emitted] [big] main web_1 | bundle.js.map 15.4 MiB 0 [emitted] main web_1 | Entrypoint main [big] = bundle.js bundle.js.map web_1 | [17] ./node_modules/react-redux/es/index.js + 14 modules 37.4 KiB {0} [built] web_1 | | 15 modules web_1 | [119] ./src/client/app/actions/graph.ts 8.26 KiB {0} [built] web_1 | [195] ./node_modules/redux/es/index.js + 6 modules 20.6 KiB {0} [built] web_1 | | 7 modules web_1 | [196] ./src/client/app/index.tsx 1.27 KiB {0} [built] web_1 | [819] ./src/client/app/containers/RouteContainer.ts 906 bytes {0} [built] web_1 | [1765] ./src/client/app/reducers/index.ts 1.06 KiB {0} [built] web_1 | [1766] ./src/client/app/reducers/meters.ts 2.52 KiB {0} [built] web_1 | [1767] ./src/client/app/reducers/lineReadings.ts 4.62 KiB {0} [built] web_1 | [1768] ./src/client/app/reducers/barReadings.ts 5.44 KiB {0} [built] web_1 | [1769] ./src/client/app/reducers/compareReadings.ts 5.53 KiB {0} [built] web_1 | [1770] ./src/client/app/reducers/graph.ts 3.43 KiB {0} [built] web_1 | [1771] ./src/client/app/reducers/groups.ts 8.16 KiB {0} [built] web_1 | [1772] ./src/client/app/reducers/maps.ts 8.04 KiB {0} [built] web_1 | [1773] ./src/client/app/reducers/notifications.ts 1.21 KiB {0} [built] web_1 | [1775] ./src/client/app/styles/index.css 1.03 KiB {0} [built] web_1 | + 1808 hidden modules web_1 | OED install finished web_1 | Starting OED in production mode web_1 | web_1 | &gt; Open-Energy-Dashboard@0.6.0 start web_1 | &gt; node ./src/bin/www web_1 | web_1 | [INFO@2021-10-13T21:07:32.081Z] Listening on port 3000 web_1 |"><meta property="og:url" content="https://openenergydashboard.org/helpV0_7_0/adminInstallOutput/"><meta property="og:locale" content="en_EN"><meta property="og:type" content="website"><meta property="og:site_name" content="Open Energy Dashboard"><link rel="icon" sizes="32x32" href="https://openenergydashboard.org/assets/img/OEDIcon22x32.png"><link rel="icon" sizes="192x192" href="https://openenergydashboard.org/assets/img/OEDIcon192x274.png"><body id="top-of-page" class="page-fullwidth"><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar data-options="scrolltop: false"><ul class="title-area"><li class="name"><h1 class="hide-for-large-up"><a href="https://openenergydashboard.org/" class="icon-tree"> Open Energy Dashboard</a></h1><li class="toggle-topbar toggle-topbar-click menu-icon"><a><span>Nav</span></a></ul><section class="top-bar-section"><ul class="left"><li><a href="https://openenergydashboard.org/">home</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/features/">features</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/features/">features by type</a><li><a href="https://openenergydashboard.org/useAcademic/">features by academic use</a></ul><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/helpV1_0_0/user/">Documentation</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/helpV1_0_0/user/">oed version 1.0.0</a><li><a href="https://openenergydashboard.org/helpV0_8_0/user/">oed version 0.8.0</a><li><a href="https://openenergydashboard.org/helpV0_7_0/user/">oed version 0.7.0</a><li><a href="https://openenergydashboard.org/helpV0_6_0/user/">oed version 0.6.0</a></ul><li class="divider"><li><a href="https://openenergydashboard.org/use/">Adopting</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/news/">info</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/news/">news</a><li><a href="https://openenergydashboard.org/principles/">project principles</a><li><a href="https://openenergydashboard.org/free/">free &amp; maintained</a><li><a href="https://openenergydashboard.org/mission/">mission</a><li><a href="https://openenergydashboard.org/why/">why exists</a><li><a href="https://openenergydashboard.org/projectInfo/">project information pages &amp; license</a><li><a href="https://openenergydashboard.org/name/">why OED name, logo &amp; some history</a></ul><li class="divider"></ul><ul class="right"><li class="divider"><li><a href="https://openenergydashboard.org/search/">Search</a><li class="divider"><li><a href="https://openenergydashboard.org/contact/">Contact</a><li class="divider"><li><a href="https://openenergydashboard.org/developer/developer/">developer docs</a><li class="divider"><li class="has-dropdown"> <a href="https://openenergydashboard.org/involved/">get involved</a><ul class="dropdown"><li><a href="https://openenergydashboard.org/internship/">becoming a developer</a><li><a href="https://openenergydashboard.org/studentExperience/">student experience</a></ul></ul></section></nav></div><div id="masthead-no-image-header"><div class="row"><div class="small-6 small-centered columns"> <a id="logo" title="Open Energy Dashboard – A Free, Open Source Energy/Resource Dashboard"> <img src="https://openenergydashboard.org/assets/img/logoHelp.png" alt="Open Energy Dashboard – A Free, Open Source Energy/Resource Dashboard"> </a></div></div></div><nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs"> <a href="https://openenergydashboard.org/">Start</a> <a href="https://openenergydashboard.org/helpV0_7_0/">helpV0_7_0</a> <a class="current">Production Install Output</a></nav><div class="row t15"><div class="medium-12 columns"><article><header><p class="subheadline">OED Documentation<h1>Production Install Output</h1></header><div class="row"><p>Version V0.7.0<div class="alert-box info "><p>The latest version of this page is <a href="https://openenergydashboard.org/helpV1_0_0/adminInstallOutput/">V1.0.0</a>.</div><div class="medium-4 medium-push-8 columns" markdown="1"><div class="panel radius" markdown="1"><div style="list-style: none;" class="side-nav"><h4><a href='../admin/'>Documentation overview</a></h4><div><h5>Admin documentation</h5><div style="padding-left: 1em;"><h6>Information</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_7_0/admin/">Overview</a></br></div></div><div style="padding-left: 1em;"><h6>Site Management</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_7_0/adminGroupViewing/">Group</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminMap/">Map Management</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminMapViewing/">Map Viewing</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminMeterViewing/">Meter Viewing</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminPreferences/">Site Settings</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminUser/">User</a></br></div></div><div style="padding-left: 1em;"><h6>Data Acquisition</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_7_0/adminCsvImport/">CSV Import</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminDataAcquisition/">Data Acquisition</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminMamac/">MAMAC</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminMetersImport/">Meter Import</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminReadingsImport/">Reading Import</a></br></div></div><div style="padding-left: 1em;"><h6>Site Installation</h6><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_7_0/adminInstallOutput/">Production Install Output</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminInstallation/">Installation Directions</a></br> <a href="https://openenergydashboard.org/helpV0_7_0/adminUpgrading/">Upgrades</a></br></div></div><h5>User documentation</h5><div style="padding-left: 1em;"> <a href="https://openenergydashboard.org/helpV0_7_0/adminInstallOutput/../user/">User help</a></br></div><h5>Documentation versions for this page</h5><div style="padding-left: 1em;"> <a href="../../helpV1_0_0/adminInstallOutput/">V1.0.0</a></br> <a href="../../helpV0_8_0/adminInstallOutput/">V0.8.0</a></br> V0.7.0 (current page)</br></div></div></div></div></div><div class="medium-8 medium-pull-4 columns" markdown="1"><div class="alert-box info "><p>These features are only available to select people who oversee the OED site (called admins) so this information is not usually of interest to a general user.</div><p>When you install OED for production you will get output similar to what is below (assuming this is the first time you are running <code>docker compose up</code>). Please note:<ul><li>This output was created on 13 Oct 2021 on RHEL 7 system using OED v0.6.0. The exact output will vary with machine type and changes to OED.<li>There are often colors in the output but that is not shown.<li>Items with // at the start were added after the fact to give information at the point it will occur in the oupt.<li>The warning:<br> WARNING: could not open statistics file "pg_stat_tmp/global.stat": Operation not permitted<br> may or may not show up. It also shows up at other times. The complete answer is not known but it appears to be a transient error in PostgreSQL writing log information. It has never caused any problems. On rarer occasions it involves another PostgreSQL file.</ul><pre>
# docker compose up
Creating network "oed_default" with the default driver
Building database
Step 1/2 : FROM postgres:10.13
 ---> 145b344769a8
Step 2/2 : COPY *.sql /docker-entrypoint-initdb.d/
 ---> Using cache
 ---> dd33bbc67fa5
Successfully built dd33bbc67fa5
Successfully tagged oed_database:latest
WARNING: Image for service database was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.
Building web
Step 1/4 : FROM node:latest
 ---> e1b0cde43c0e
Step 2/4 : RUN mkdir -p "/usr/src/app"
 ---> Using cache
 ---> 2161380cdac9
Step 3/4 : WORKDIR "/usr/src/app"
 ---> Using cache
 ---> aabdff5c5dc5
Step 4/4 : VOLUME "/usr/src/app"
 ---> Using cache
 ---> 901e97beb13a
Successfully built 901e97beb13a
Successfully tagged oed_web:latest
WARNING: Image for service web was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.
Creating oed_database_1 ... 
Creating oed_database_1 ... done
Creating oed_web_1 ... 
Creating oed_web_1 ... done
Attaching to oed_database_1, oed_web_1
database_1  | The files belonging to this database system will be owned by user "postgres".
database_1  | This user must also own the server process.
database_1  | 
database_1  | The database cluster will be initialized with locale "en_US.utf8".
database_1  | The default database encoding has accordingly been set to "UTF8".
database_1  | The default text search configuration will be set to "english".
database_1  | 
database_1  | Data page checksums are disabled.
database_1  | 
database_1  | fixing permissions on existing directory /var/lib/postgresql/data/pgdata ... ok
database_1  | creating subdirectories ... ok
database_1  | selecting default max_connections ... 100
database_1  | selecting default shared_buffers ... 128MB
database_1  | selecting default timezone ... Etc/UTC
database_1  | selecting dynamic shared memory implementation ... posix
database_1  | creating configuration files ... ok
database_1  | running bootstrap script ... ok
web_1       | NPM install...
database_1  | performing post-bootstrap initialization ... ok
database_1  | syncing data to disk ... ok
database_1  | 
database_1  | Success. You can now start the database server using:
database_1  | 
database_1  |     pg_ctl -D /var/lib/postgresql/data/pgdata -l logfile start
database_1  | 
database_1  | 
database_1  | WARNING: enabling "trust" authentication for local connections
database_1  | You can change this by editing pg_hba.conf or using the option -A, or
database_1  | --auth-local and --auth-host, the next time you run initdb.
database_1  | waiting for server to start....2021-10-13 20:55:04.490 UTC [45] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
database_1  | 2021-10-13 20:55:04.571 UTC [46] LOG:  database system was shut down at 2021-10-13 20:55:04 UTC
database_1  | 2021-10-13 20:55:04.589 UTC [45] LOG:  database system is ready to accept connections
database_1  |  done
database_1  | server started
database_1  | 
database_1  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
database_1  | CREATE ROLE
database_1  | DROP DATABASE
database_1  | psql:/docker-entrypoint-initdb.d/init.sql:6: NOTICE:  database "oed" does not exist, skipping
database_1  | CREATE DATABASE
database_1  | DROP DATABASE
database_1  | psql:/docker-entrypoint-initdb.d/init.sql:8: NOTICE:  database "oed_testing" does not exist, skipping
database_1  | CREATE DATABASE
database_1  | ALTER ROLE
database_1  | 
database_1  | 
database_1  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/nuke.sql
database_1  | DROP DATABASE
database_1  | DROP DATABASE
web_1       | npm WARN old lockfile 
web_1       | npm WARN old lockfile The package-lock.json file was created with an old version of npm,
web_1       | npm WARN old lockfile so supplemental metadata must be fetched from the registry.
web_1       | npm WARN old lockfile 
web_1       | npm WARN old lockfile This is a one-time fix-up, please be patient...
web_1       | npm WARN old lockfile 
database_1  | CREATE DATABASE
database_1  | CREATE DATABASE
database_1  | 
database_1  | 
database_1  | waiting for server to shut down....2021-10-13 20:55:06.648 UTC [45] LOG:  received fast shutdown request
database_1  | 2021-10-13 20:55:06.650 UTC [45] LOG:  aborting any active transactions
database_1  | 2021-10-13 20:55:06.664 UTC [45] LOG:  worker process: logical replication launcher (PID 52) exited with exit code 1
database_1  | 2021-10-13 20:55:06.664 UTC [47] LOG:  shutting down
database_1  | 2021-10-13 20:55:06.681 UTC [45] LOG:  database system is shut down
database_1  |  done
database_1  | server stopped
database_1  | 
database_1  | PostgreSQL init process complete; ready for start up.
database_1  | 
database_1  | 2021-10-13 20:55:06.785 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
database_1  | 2021-10-13 20:55:06.785 UTC [1] LOG:  listening on IPv6 address "::", port 5432
database_1  | 2021-10-13 20:55:06.790 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
database_1  | 2021-10-13 20:55:06.826 UTC [72] LOG:  database system was shut down at 2021-10-13 20:55:06 UTC
database_1  | 2021-10-13 20:55:06.836 UTC [1] LOG:  database system is ready to accept connections
// This is the point where it may take a while until you get output.
web_1       | npm WARN // .... output removed since the warnings are for the current packages of OED. You may have none to a number depending on OED version on NPM status
web_1       | 
web_1       | added 1651 packages, and audited 1652 packages in 5m
web_1       | 
web_1       | 26 packages are looking for funding
web_1       |   run `npm fund` for details
web_1       | 
web_1       | XX vulnerabilities (XX low, XX moderate, XX high, X critical) // XX will be a number that depends on OED/NPM as noted above
web_1       | 
web_1       | To address issues that do not require attention, run:
web_1       |   npm audit fix
web_1       | 
web_1       | To address all issues (including breaking changes), run:
web_1       |   npm audit fix --force
web_1       | 
web_1       | Run `npm audit` for details.
web_1       | npm notice 
web_1       | npm notice New major version of npm available! 7.24.0 -> 8.0.0
web_1       | npm notice Changelog: <https://github.com/npm/cli/releases/tag/v8.0.0>
web_1       | npm notice Run `npm install -g npm@8.0.0` to update!
web_1       | npm notice 
web_1       | NPM install finished.
web_1       | Attempting to create database...
web_1       | 
web_1       | -----start of npm run createdb output-----
web_1       | 
web_1       | > Open-Energy-Dashboard@0.6.0 createdb
web_1       | > node ./src/server/services/createDB.js
web_1       | 
web_1       | -----end of npm run createdb output-----
web_1       | 
web_1       |   database creation had no errors so assume schema creation worked.
web_1       | 
web_1       | > Open-Energy-Dashboard@0.6.0 webpack:build
web_1       | > cross-env NODE_ENV=production webpack -p
web_1       | 
web_1       | 
web_1       | [at-loader] Using typescript@3.5.3 from typescript and "tsconfig.json" from /usr/src/app/tsconfig.json.
web_1       | 
web_1       | 
web_1       | [at-loader] Checking started in a separate process...
web_1       | 
web_1       | [at-loader] Ok, 12.425 sec.
web_1       | Hash: e4db21089452b8852084
web_1       | Version: webpack 4.30.0
web_1       | Time: 443957ms
web_1       | Built at: 10/13/2021 9:07:28 PM
web_1       |         Asset      Size  Chunks                    Chunk Names
web_1       |     bundle.js  4.38 MiB       0  [emitted]  [big]  main
web_1       | bundle.js.map  15.4 MiB       0  [emitted]         main
web_1       | Entrypoint main [big] = bundle.js bundle.js.map
web_1       |   [17] ./node_modules/react-redux/es/index.js + 14 modules 37.4 KiB {0} [built]
web_1       |        |    15 modules
web_1       |  [119] ./src/client/app/actions/graph.ts 8.26 KiB {0} [built]
web_1       |  [195] ./node_modules/redux/es/index.js + 6 modules 20.6 KiB {0} [built]
web_1       |        |    7 modules
web_1       |  [196] ./src/client/app/index.tsx 1.27 KiB {0} [built]
web_1       |  [819] ./src/client/app/containers/RouteContainer.ts 906 bytes {0} [built]
web_1       | [1765] ./src/client/app/reducers/index.ts 1.06 KiB {0} [built]
web_1       | [1766] ./src/client/app/reducers/meters.ts 2.52 KiB {0} [built]
web_1       | [1767] ./src/client/app/reducers/lineReadings.ts 4.62 KiB {0} [built]
web_1       | [1768] ./src/client/app/reducers/barReadings.ts 5.44 KiB {0} [built]
web_1       | [1769] ./src/client/app/reducers/compareReadings.ts 5.53 KiB {0} [built]
web_1       | [1770] ./src/client/app/reducers/graph.ts 3.43 KiB {0} [built]
web_1       | [1771] ./src/client/app/reducers/groups.ts 8.16 KiB {0} [built]
web_1       | [1772] ./src/client/app/reducers/maps.ts 8.04 KiB {0} [built]
web_1       | [1773] ./src/client/app/reducers/notifications.ts 1.21 KiB {0} [built]
web_1       | [1775] ./src/client/app/styles/index.css 1.03 KiB {0} [built]
web_1       |     + 1808 hidden modules
web_1       | OED install finished
web_1       | Starting OED in production mode
web_1       | 
web_1       | > Open-Energy-Dashboard@0.6.0 start
web_1       | > node ./src/bin/www
web_1       | 
web_1       | [INFO@2021-10-13T21:07:32.081Z] Listening on port 3000
web_1       | 
</pre></div></div></article></div></div><div id="up-to-top" class="row"><div class="small-12 columns" style="text-align: right;"> <a class="iconfont" href="#top-of-page">&#xf108;</a></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"> <noscript><div class="alert-box warning "><p>Some aspect of this site will not work and others will work better if you enable JavaScript.</div></noscript></div><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">About This Site</h5><p class="shadow-black"> The OED dashboard allows organization to acquire, archive, analyze and display energy/resource usage. <a href="https://openenergydashboard.org/features/">More ›</a></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">Services</h5><ul class="no-bullet shadow-black"><li > <a href="https://openenergydashboard.org/" title=""></a><li > <a href="https://openenergydashboard.org/contact/" title="Contact">Contact</a><li > <a href="https://openenergydashboard.org/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a></ul></div><div class="small-6 medium-3 large-3 columns"><ul class="no-bullet shadow-black"></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="small-12 medium-6 columns credits"><p>Created by the OED team using <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on <a href="https://phlow.github.io/feeling-responsive/">Feeling Responsive</a>. This page is part of the Open Energy Dashboard and is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, you can obtain one at <a href="https://www.mozilla.org/en-US/MPL/2.0/" rel="nofollow">https://www.mozilla.org/en-US/MPL/2.0/</a>.</section><section id="subfooter-right" class="small-12 medium-6 columns"><ul class="inline-list social-icons"><li><a href="https://github.com/OpenEnergyDashboard/OED" target="_blank" class="icon-github" title="Code other repos..."></a></ul></section></nav></div></footer><script src="https://openenergydashboard.org/assets/js/javascript.min.js"></script>
